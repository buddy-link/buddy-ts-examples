"use strict";exports.id=767,exports.ids=[767],exports.modules={39767:(e,t,r)=>{r.d(t,{CreateTokenCommand:()=>eX,SSOOIDCClient:()=>el});var i=r(50553),o=r(52031),n=r(46288),s=r(20197),a=r(8086),c=r(38791),d=r(45808),p=r(38085),l=r(72765),u=r(3306),h=r(60881),m=r(82264);let g=async(e,t,r)=>({operation:(0,m.J)(t).operation,region:await (0,m.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),x=e=>{let t=[];switch(e.operation){case"CreateToken":case"RegisterClient":case"StartDeviceAuthorization":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},S=e=>({...(0,h.resolveAwsSdkSigV4Config)(e)}),y=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),f={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},E={i8:"3.583.0"};var v=r(10011),w=r(20731),I=r(61385),b=r(45272),P=r(95580),k=r(87093),O=r(72667),C=r(43611),_=r(99206),$=r(68667),A=r(54833),R=r(26056);let D="required",T="argv",j="isSet",z="booleanEquals",U="error",N="endpoint",G="tree",q="PartitionResult",V="getAttr",F={[D]:!1,type:"String"},H={[D]:!0,default:!1,type:"Boolean"},M={ref:"Endpoint"},B={fn:z,[T]:[{ref:"UseFIPS"},!0]},J={fn:z,[T]:[{ref:"UseDualStack"},!0]},W={},L={fn:V,[T]:[{ref:q},"supportsFIPS"]},X={ref:q},K={fn:z,[T]:[!0,{fn:V,[T]:[X,"supportsDualStack"]}]},Q=[B],Y=[J],Z=[{ref:"Region"}],ee={version:"1.0",parameters:{Region:F,UseDualStack:H,UseFIPS:H,Endpoint:F},rules:[{conditions:[{fn:j,[T]:[M]}],rules:[{conditions:Q,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:U},{conditions:Y,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:U},{endpoint:{url:M,properties:W,headers:W},type:N}],type:G},{conditions:[{fn:j,[T]:Z}],rules:[{conditions:[{fn:"aws.partition",[T]:Z,assign:q}],rules:[{conditions:[B,J],rules:[{conditions:[{fn:z,[T]:[!0,L]},K],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:W,headers:W},type:N}],type:G},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:U}],type:G},{conditions:Q,rules:[{conditions:[{fn:z,[T]:[L,!0]}],rules:[{conditions:[{fn:"stringEquals",[T]:[{fn:V,[T]:[X,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:W,headers:W},type:N},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:W,headers:W},type:N}],type:G},{error:"FIPS is enabled but this partition does not support FIPS",type:U}],type:G},{conditions:Y,rules:[{conditions:[K],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:W,headers:W},type:N}],type:G},{error:"DualStack is enabled but this partition does not support DualStack",type:U}],type:G},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:W,headers:W},type:N}],type:G}],type:G},{error:"Invalid Configuration: Missing Region",type:U}]},et=(e,t={})=>(0,R.B1)(ee,{endpointParams:e,logger:t.logger});R.DY.aws=A.Iu;let er=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??_.G,base64Encoder:e?.base64Encoder??_.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??et,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??x,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new h.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.NoAuthSigner}],logger:e?.logger??new u.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??C.e,utf8Decoder:e?.utf8Decoder??$.$x,utf8Encoder:e?.utf8Encoder??$.GZ});var ei=r(97574);let eo=e=>{(0,u.emitWarningIfUnsupportedVersion)(process.version);let t=(0,ei.j)(e),r=()=>t().then(u.loadConfigsForDefaultMode),i=er(e);return(0,h.emitWarningIfUnsupportedVersion)(process.version),{...i,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??k.W,credentialDefaultProvider:e?.credentialDefaultProvider??v.iw,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,w.fV)({serviceId:i.serviceId,clientVersion:E.i8}),maxAttempts:e?.maxAttempts??(0,b.M)(l.Hs),region:e?.region??(0,b.M)(a._c,a.zb),requestHandler:P.NA.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,b.M)({...l.aK,default:async()=>(await r()).retryMode||O.CA}),sha256:e?.sha256??I.k.bind(null,"sha256"),streamCollector:e?.streamCollector??P.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,b.M)(a.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,b.M)(a.NL)}};var en=r(84959),es=r(3166);let ea=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){let r=t.findIndex(t=>t.schemeId===e.schemeId);-1===r?t.push(e):t.splice(r,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){r=e},httpAuthSchemeProvider:()=>r,setCredentials(e){i=e},credentials:()=>i}},ec=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ed=e=>e,ep=(e,t)=>{let r={...ed((0,en.GW)(e)),...ed((0,u.getDefaultExtensionConfiguration)(e)),...ed((0,es.getHttpHandlerExtensionConfiguration)(e)),...ed(ea(e))};return t.forEach(e=>e.configure(r)),{...e,...(0,en.A1)(r),...(0,u.resolveDefaultRuntimeConfig)(r),...(0,es.resolveHttpHandlerRuntimeConfig)(r),...ec(r)}};class el extends u.Client{constructor(...[e]){let t=y(eo(e||{})),r=(0,a.Xb)(t),u=(0,p.uW)(r),h=(0,l.BC)(u),m=(0,i.S8)(h),g=ep(S((0,s.er)(m)),e?.extensions||[]);super(g),this.config=g,this.middlewareStack.use((0,l.NQ)(this.config)),this.middlewareStack.use((0,d.VG)(this.config)),this.middlewareStack.use((0,i.G2)(this.config)),this.middlewareStack.use((0,o.cV)(this.config)),this.middlewareStack.use((0,n.eV)(this.config)),this.middlewareStack.use((0,s.XJ)(this.config)),this.middlewareStack.use((0,c.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,c.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return g}getIdentityProviderConfigProvider(){return async e=>new c.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})}}var eu=r(65030);class eh extends u.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,eh.prototype)}}class em extends eh{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,em.prototype),this.error=e.error,this.error_description=e.error_description}}class eg extends eh{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,eg.prototype),this.error=e.error,this.error_description=e.error_description}}class ex extends eh{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ex.prototype),this.error=e.error,this.error_description=e.error_description}}class eS extends eh{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,eS.prototype),this.error=e.error,this.error_description=e.error_description}}class ey extends eh{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,ey.prototype),this.error=e.error,this.error_description=e.error_description}}class ef extends eh{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,ef.prototype),this.error=e.error,this.error_description=e.error_description}}class eE extends eh{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,eE.prototype),this.error=e.error,this.error_description=e.error_description}}class ev extends eh{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,ev.prototype),this.error=e.error,this.error_description=e.error_description}}class ew extends eh{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,ew.prototype),this.error=e.error,this.error_description=e.error_description}}class eI extends eh{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,eI.prototype),this.error=e.error,this.error_description=e.error_description}}class eb extends eh{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,eb.prototype),this.error=e.error,this.error_description=e.error_description}}class eP extends eh{constructor(e){super({name:"InvalidRequestRegionException",$fault:"client",...e}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,eP.prototype),this.error=e.error,this.error_description=e.error_description,this.endpoint=e.endpoint,this.region=e.region}}class ek extends eh{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,ek.prototype),this.error=e.error,this.error_description=e.error_description}}class eO extends eh{constructor(e){super({name:"InvalidRedirectUriException",$fault:"client",...e}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,eO.prototype),this.error=e.error,this.error_description=e.error_description}}let eC=e=>({...e,...e.clientSecret&&{clientSecret:u.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:u.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:u.SENSITIVE_STRING}}),e_=e=>({...e,...e.accessToken&&{accessToken:u.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:u.SENSITIVE_STRING},...e.idToken&&{idToken:u.SENSITIVE_STRING}}),e$=async(e,t)=>{let r;let i=(0,c.requestBuilder)(e,t);return i.bp("/token"),r=JSON.stringify((0,u.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>(0,u._json)(e)})),i.m("POST").h({"content-type":"application/json"}).b(r),i.build()},eA=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return eR(e,t);let r=(0,u.map)({$metadata:eL(e)}),i=(0,u.expectNonNull)((0,u.expectObject)(await (0,h.parseJsonBody)(e.body,t)),"body");return Object.assign(r,(0,u.take)(i,{accessToken:u.expectString,expiresIn:u.expectInt32,idToken:u.expectString,refreshToken:u.expectString,tokenType:u.expectString})),r},eR=async(e,t)=>{let r={...e,body:await (0,h.parseJsonErrorBody)(e.body,t)},i=(0,h.loadRestJsonErrorCode)(e,r.body);switch(i){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await eT(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await ej(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await ez(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await eU(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await eN(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await eq(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await eF(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await eM(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await eB(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await eJ(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await eW(r,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await eH(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await eG(r,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await eV(r,t);default:return eD({output:e,parsedBody:r.body,errorCode:i})}},eD=(0,u.withBaseException)(eh),eT=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new em({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},ej=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new eg({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},ez=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new ex({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eU=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new eS({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eN=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new ey({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eG=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new ek({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eq=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new ef({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eV=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new eO({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eF=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new eE({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eH=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{endpoint:u.expectString,error:u.expectString,error_description:u.expectString,region:u.expectString}));let o=new eP({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eM=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new ev({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eB=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new ew({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eJ=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new eI({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eW=async(e,t)=>{let r=(0,u.map)({}),i=e.body;Object.assign(r,(0,u.take)(i,{error:u.expectString,error_description:u.expectString}));let o=new eb({$metadata:eL(e),...r});return(0,u.decorateServiceException)(o,e.body)},eL=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});class eX extends u.Command.classBuilder().ep({...f}).m(function(e,t,r,i){return[(0,eu.p2)(r,this.serialize,this.deserialize),(0,p.a3)(r,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(eC,e_).ser(e$).de(eA).build(){}}};